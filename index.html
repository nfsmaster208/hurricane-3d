<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hurricane Explorer â€” v6 (beta)</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<link rel="stylesheet" href="style.css"/>
</head>
<body>
<header>
  <div class="brand">ðŸŒ€ Hurricane Explorer (v6 beta)</div>
  <div class="actions">
    <button id="showFlorida">Show Florida</button>
    <button id="reloadDemo">Reload demo</button>
    <button id="togglePanel">Hide panel</button>
  </div>
</header>
<main>
  <div id="map"><div id="fallbackNote">Leaflet unavailable â€” using canvas fallback</div></div>
  <aside id="panel">
    <details open>
      <summary>Live Data (beta)</summary>
      <div class="grid">
        <label>Auto-storms: <button id="loadNHC">Load NHC list</button></label>
        <select id="stormSelect"><option value="">â€” none â€”</option></select>
        <button id="loadSelected">Load selected</button>
      </div>
      <div class="grid">
        <label>Cone GeoJSON</label><input id="coneUrl" placeholder="https://â€¦cone.geojson"/>
        <label>Track GeoJSON</label><input id="trackUrl" placeholder="https://â€¦track.geojson"/>
        <label>Wind GeoJSON</label><input id="windUrl" placeholder="https://â€¦wind34_50_64.geojson"/>
        <button id="loadManual">Load manual URLs</button>
      </div>
      <div class="small">Tip: If an auto endpoint fails, paste a known GeoJSON URL here. This always falls back to the demo.</div>
    </details>

    <details open>
      <summary>Layers</summary>
      <label><input type="checkbox" id="coneChk" checked/> Forecast cone</label>
      <label><input type="checkbox" id="trackChk" checked/> Forecast track</label>
      <label><input type="checkbox" id="wind34Chk" checked/> 34 kt wind area</label>
      <label><input type="checkbox" id="wind50Chk"/> 50 kt wind area</label>
      <label><input type="checkbox" id="wind64Chk"/> 64 kt wind area</label>
      <div class="slider"><input id="time" type="range" min="0" max="0" value="0"/><span id="tlabel">â€”</span></div>
    </details>

    <details open>
      <summary>Florida Impacts</summary>
      <div id="impacts"></div>
      <div class="legend">
        <div><span class="pill danger"></span> &lt;24h Act now</div>
        <div><span class="pill warn"></span> 24â€“48h Prepare</div>
        <div><span class="pill watch"></span> 48â€“72h Monitor</div>
        <div><span class="pill calm"></span> &gt;72h Low</div>
      </div>
      <div class="small">For decisions, follow local officials and NHC.</div>
    </details>

    <details>
      <summary>Debug</summary>
      <pre id="log" class="debug"></pre>
    </details>
  </aside>
</main>
<footer>Leaflet tiles with canvas fallback. Demo data included. Live mode uses public NHC/NOAA endpoints when available.</footer>
<script src="app.js"></script>
</body>
</html>
