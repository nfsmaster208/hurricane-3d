*{box-sizing:border-box}body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#0a1a2b;background:#0e1525}
header{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:10px 14px;background:#101b33;border-bottom:1px solid #223}
.brand{font-weight:700;color:#cfe7ff}
.controls{display:flex;gap:8px;align-items:center}
.controls select,.controls input[type=range],.controls button{background:#121f3a;color:#e5f0ff;border:1px solid #2a3b5f;border-radius:8px;padding:6px 10px}
.controls button{cursor:pointer}
.toggle{display:flex;gap:6px;align-items:center;color:#b8c7e5}
main{display:grid;grid-template-columns:1fr 360px;gap:0;height:calc(100vh - 78px)}
#stage{position:relative;overflow:hidden;background:#0b1222}
.stagePane{position:absolute;inset:0}
.hidden{display:none}
#sidebar{background:#0f1b31;border-left:1px solid #223;overflow:auto;padding:12px}
#sidebar details{margin:10px 0;padding:10px;border:1px solid #24324f;border-radius:10px;background:#101d36}
#sidebar summary{cursor:pointer;color:#e9f2ff;font-weight:600}
#sidebar label{display:block;color:#c8d7f3;margin:4px 0}
#floridaImpacts{display:grid;grid-template-columns:1fr auto;gap:6px;align-items:center;color:#e9f2ff}
.pill{display:inline-block;width:14px;height:14px;border-radius:7px;margin-right:6px;border:1px solid #123}
.pill.danger{background:#ff4d4d}
.pill.warn{background:#ffb84d}
.pill.watch{background:#ffd24d}
.pill.calm{background:#79d28f}
.legend{display:grid;gap:6px;margin-top:8px;color:#b7c8eb}
.note{font-size:12px;color:#9cb5e6;margin-top:8px}
.closest{display:grid;gap:6px}
#jsonBox{width:100%;height:120px;background:#0b1831;color:#e6f1ff;border:1px solid #2b3d63;border-radius:8px;padding:8px}
footer{padding:8px 14px;color:#90a4c6;border-top:1px solid #223;background:#0e1a30}
.badge{padding:2px 8px;border-radius:12px;font-size:12px;border:1px solid #123}
.badge.calm{background:#0f3622;color:#9ff0b0}
.badge.watch{background:#302f0c;color:#ffe27a}
.badge.warn{background:#3b2507;color:#ffc073}
.badge.danger{background:#3b0d0d;color:#ffaaaa}
.small{font-size:12px;color:#a7bbdc}

.tag{display:inline-flex;align-items:center;gap:4px;border:1px solid #123;padding:2px 6px;border-radius:10px;font-size:12px;margin-left:6px}
.tag.hw{background:#3b0d0d;color:#ffb3b3}
.tag.hwatch{background:#3b2507;color:#ffc58a}
.tag.tsw{background:#302f0c;color:#ffe27a}
.tag.tswatch{background:#0f3622;color:#aef0c1}
.row{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px dashed #1f2e4d}
.row:last-child{border-bottom:0}
.meta{font-size:12px;color:#9cb5e6;margin-left:8px}

#countyRiskLegend{margin-top:6px}
#sidebar details .closest button{background:#121f3a;color:#e5f0ff;border:1px solid #2a3b5f;border-radius:8px;padding:6px 10px;cursor:pointer}

#weightsForm label{display:flex;justify-content:space-between;align-items:center;gap:8px}
#weightsForm input[type=range]{flex:1}
#myPlacesList .row{padding:6px 0;border-bottom:1px dashed #1f2e4d}
#myPlacesList .rm{background:#2b3f66;border:1px solid #34507e;color:#e5f0ff;border-radius:8px;padding:2px 6px;margin-left:8px;cursor:pointer}

.modalBtn{background:#121f3a;color:#e5f0ff;border:1px solid #2a3b5f;border-radius:8px;padding:6px 10px;cursor:pointer}
.cat{display:inline-block;border:1px solid #123;border-radius:10px;padding:1px 6px;font-size:11px;margin-left:6px}
.cat.home{background:#20314f;color:#bbd2ff}
.cat.work{background:#2b2b2b;color:#e6e6e6}
.cat.family{background:#1c3b28;color:#a6f3bf}
.cat.friend{background:#2a1f3b;color:#d7c2ff}
.cat.so{background:#3b1f2f;color:#ffc2d6}
.cat.other{background:#243b3b;color:#bde3e3}
.ribbon{display:inline-block;margin-left:8px;padding:2px 6px;border-radius:10px;border:1px solid #123;font-size:11px}
.ribbon.high{background:#13381f;color:#97efb4}
.ribbon.med{background:#3a300f;color:#ffe58a}
.ribbon.low{background:#3a1616;color:#ffb3b3}

/* Material-ish + glass styling */
:root{
  --md-bg:#0e1525;
  --md-surface:#101b33;
  --md-surface-2:#0f1b31;
  --md-primary:#7fb4ff;
  --md-accent:#7bd389;
  --glass:rgba(16,27,51,0.55);
  --glass-border:#2a3b5f;
  --blur:18px;
}
header, #sidebar details, .md-btn, .searchWrap, .card { backdrop-filter: blur(var(--blur)); -webkit-backdrop-filter: blur(var(--blur)); }
.glass{ background: var(--glass); border:1px solid var(--glass-border); border-radius:14px; }
.md-btn{ background:#14254a; border:1px solid #27406e; color:#eaf2ff; padding:8px 12px; border-radius:12px; cursor:pointer; transition: all .18s ease;}
.md-btn:hover{ transform: translateY(-1px); background:#183060; }
.md-btn.icon{ display:inline-flex; align-items:center; justify-content:center; width:38px; height:38px; padding:0; }
.searchWrap{ display:flex; align-items:center; gap:8px; padding:6px 8px; }
.searchWrap input{ background:transparent; border:none; color:#eaf2ff; outline:none; min-width:260px; }
.results{ position:absolute; margin-top:38px; background:#0f1b31; border:1px solid #2a3b5f; border-radius:10px; width:360px; display:none; overflow:hidden; }
.results .item{ padding:8px 10px; cursor:pointer; border-bottom:1px solid #1e2c4d; }
.results .item:hover{ background:#14254a; }
header{ position:sticky; top:0; z-index:10; backdrop-filter: blur(var(--blur)); background:linear-gradient(180deg, rgba(15,27,49,0.85), rgba(15,27,49,0.55)); }
#stage::before{ content:''; position:absolute; inset:-20%; background:radial-gradient(ellipse at 20% 30%, rgba(127,180,255,0.08), transparent 60%), radial-gradient(ellipse at 80% 70%, rgba(123,211,137,0.06), transparent 55%); pointer-events:none; }
.card{ padding:10px 12px; border-radius:14px; border:1px solid #27406e; }
.cmd .row{ display:flex; align-items:center; justify-content:space-between; padding:6px 0; }
#centerSummary{ margin-top:8px; }
#addrResults{ position:absolute; z-index:20; }
.material-symbols-rounded{ font-variation-settings:'FILL' 0,'wght' 400,'GRAD' 0,'opsz' 48; font-size:20px; color:#cfe7ff; }

#groupsPanel .groupRow{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px dashed #1f2e4d}
#groupsPanel .groupRow:last-child{border-bottom:0}
.results{max-height:260px;overflow:auto}

/* v3.2 layout fixes */
main{min-height:100dvh; grid-template-columns:1fr 360px;}
#stage{height:60dvh;}
@media (max-width:900px){
  main{grid-template-columns:1fr;}
  #stage{height:55dvh;}
  #sidebar{max-height:none;}
}

.debug{white-space:pre-wrap;font-family:ui-monospace,Menlo,Consolas,monospace;background:#0b1831;border:1px solid #2b3d63;border-radius:8px;padding:8px;height:160px;overflow:auto;color:#d3e4ff}
